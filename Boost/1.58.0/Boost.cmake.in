cmake_minimum_required(VERSION 3.10)
project(Boost-1.58.0-install NONE)

#==========================================
#Header
#==========================================
find_package(Boost 1.58.0 QUIET)
if(NOT Boost_FOUND AND NOT Boost_FIND_VERSION_EXACT)
    include(ExternalProject)
    if(NOT WIN32)
 # Linux or OSX Setting
        ExternalProject_Add(
        Boost
        URL http://sourceforge.net/projects/boost/files/boost/1.58.0/boost_1_58_0.tar.gz
        #GIT_REPOSITORY 
        #GIT_TAG 
        SOURCE_DIR ${CMAKE_BINARY_DIR}/repo/Boost
        CMAKE_ARGS "-DCMAKE_INSTALL_PREFIX=$ENV{HOME}/.cppm/local "
        CONFIGURE_COMMAND "./bootstrap.sh && ./b2 install"
        #BUILD_COMMAND 
        #INSTALL_COMMAND 
        BUILD_IN_SOURCE true
        )
    else(NOT WIN32)
 # Windows Setting
        ExternalProject_Add(
        Boost
        URL http://sourceforge.net/projects/boost/files/boost/1.58.0/boost_1_58_0.tar.gz
        #GIT_REPOSITORY 
        #GIT_TAG 
        SOURCE_DIR ${CMAKE_BINARY_DIR}/repo/Boost
        CMAKE_ARGS "-DCMAKE_INSTALL_PREFIX=$ENV{HOME}/.cppm/local "
        CONFIGURE_COMMAND ".\boostrap.bat && .\b2"
        #BUILD_COMMAND 
        #INSTALL_COMMAND 
        BUILD_IN_SOURCE true
        )
    endif(NOT WIN32)
endif()
#==========================================
#Footer
#==========================================

